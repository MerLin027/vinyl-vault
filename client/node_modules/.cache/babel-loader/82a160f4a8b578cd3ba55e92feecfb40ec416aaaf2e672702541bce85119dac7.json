{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import'./Login.css';// Record icon SVG component for consistency with navbar\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecordIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"record-icon\",width:\"36\",height:\"36\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"11\",stroke:\"currentColor\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"3\",fill:\"currentColor\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"7\",stroke:\"currentColor\",strokeWidth:\"1\"})]});const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const{login}=useAuth();const navigate=useNavigate();const validateForm=()=>{const newErrors={};// Email validation\nif(!email){newErrors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(email)){newErrors.email='Email is invalid';}// Password validation\nif(!password){newErrors.password='Password is required';}else if(password.length<6){newErrors.password='Password must be at least 6 characters';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(validateForm()){setIsSubmitting(true);try{const result=await login(email,password);if(result.success){navigate('/');}else{setErrors({general:result.message||'Login failed. Please try again.'});}}catch(error){setErrors({general:'An unexpected error occurred. Please try again.'});}finally{setIsSubmitting(false);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blob blob-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"blob blob-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"blob blob-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"blob blob-4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vinyl-decoration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-icon\",children:/*#__PURE__*/_jsx(RecordIcon,{})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Vinyl Vault\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Sign in to your account to start collecting\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:handleSubmit,children:[errors.general&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message general-error\",children:errors.general}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Enter your email\",className:errors.email?'input-error':''}),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Enter your password\",className:errors.password?'input-error':''}),errors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"remember-me\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"remember\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"remember\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"forgot-password\",children:\"Forgot Password?\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",disabled:isSubmitting,children:isSubmitting?'Signing in...':'Sign In'}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-link\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign Up\"})]})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","RecordIcon","className","width","height","viewBox","fill","xmlns","children","cx","cy","r","stroke","strokeWidth","Login","email","setEmail","password","setPassword","errors","setErrors","isSubmitting","setIsSubmitting","login","navigate","validateForm","newErrors","test","length","Object","keys","handleSubmit","e","preventDefault","result","success","general","message","error","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","disabled","to"],"sources":["C:/Users/VRUSHANK/Desktop/Ecom Website/client/src/components/Auth/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport './Login.css';\r\n\r\n// Record icon SVG component for consistency with navbar\r\nconst RecordIcon = () => (\r\n  <svg className=\"record-icon\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"11\" stroke=\"currentColor\" strokeWidth=\"2\"/>\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" fill=\"currentColor\"/>\r\n    <circle cx=\"12\" cy=\"12\" r=\"7\" stroke=\"currentColor\" strokeWidth=\"1\"/>\r\n  </svg>\r\n);\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  \r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    // Email validation\r\n    if (!email) {\r\n      newErrors.email = 'Email is required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      newErrors.email = 'Email is invalid';\r\n    }\r\n    \r\n    // Password validation\r\n    if (!password) {\r\n      newErrors.password = 'Password is required';\r\n    } else if (password.length < 6) {\r\n      newErrors.password = 'Password must be at least 6 characters';\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (validateForm()) {\r\n      setIsSubmitting(true);\r\n      \r\n      try {\r\n        const result = await login(email, password);\r\n        \r\n        if (result.success) {\r\n          navigate('/');\r\n        } else {\r\n          setErrors({ general: result.message || 'Login failed. Please try again.' });\r\n        }\r\n      } catch (error) {\r\n        setErrors({ general: 'An unexpected error occurred. Please try again.' });\r\n      } finally {\r\n        setIsSubmitting(false);\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-background\">\r\n        <div className=\"blob blob-1\"></div>\r\n        <div className=\"blob blob-2\"></div>\r\n        <div className=\"blob blob-3\"></div>\r\n        <div className=\"blob blob-4\"></div>\r\n      </div>\r\n      \r\n      <div className=\"login-card\">\r\n        <div className=\"vinyl-decoration\"></div>\r\n        \r\n        <div className=\"login-header\">\r\n          <div className=\"header-icon\">\r\n            <RecordIcon />\r\n          </div>\r\n          <h1>Vinyl Vault</h1>\r\n          <p>Sign in to your account to start collecting</p>\r\n        </div>\r\n        \r\n        <form className=\"login-form\" onSubmit={handleSubmit}>\r\n          {errors.general && (\r\n            <div className=\"error-message general-error\">\r\n              {errors.general}\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              placeholder=\"Enter your email\"\r\n              className={errors.email ? 'input-error' : ''}\r\n            />\r\n            {errors.email && <div className=\"error-message\">{errors.email}</div>}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"Enter your password\"\r\n              className={errors.password ? 'input-error' : ''}\r\n            />\r\n            {errors.password && <div className=\"error-message\">{errors.password}</div>}\r\n          </div>\r\n          \r\n          <div className=\"form-footer\">\r\n            <div className=\"remember-me\">\r\n              <input type=\"checkbox\" id=\"remember\" />\r\n              <label htmlFor=\"remember\">Remember me</label>\r\n            </div>\r\n            <button type=\"button\" className=\"forgot-password\">Forgot Password?</button>\r\n          </div>\r\n          \r\n          <button \r\n            type=\"submit\" \r\n            className=\"login-button\"\r\n            disabled={isSubmitting}\r\n          >\r\n            {isSubmitting ? 'Signing in...' : 'Sign In'}\r\n          </button>\r\n          \r\n          <div className=\"signup-link\">\r\n            Don't have an account? <Link to=\"/signup\">Sign Up</Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,MAAO,aAAa,CAEpB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,UAAU,CAAGA,CAAA,gBACjBD,KAAA,QAAKE,SAAS,CAAC,aAAa,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAAC,QAAA,eACpHV,IAAA,WAAQW,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAC,CAAC,cACtEf,IAAA,WAAQW,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,GAAG,CAACL,IAAI,CAAC,cAAc,CAAC,CAAC,cACnDR,IAAA,WAAQW,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,GAAG,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAC,CAAC,EAClE,CACN,CAED,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC0B,MAAM,CAAEC,SAAS,CAAC,CAAG3B,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC,KAAM,CAAC4B,YAAY,CAAEC,eAAe,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CAAE8B,KAAM,CAAC,CAAG3B,OAAO,CAAC,CAAC,CAC3B,KAAM,CAAA4B,QAAQ,CAAG7B,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAA8B,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,SAAS,CAAG,CAAC,CAAC,CAEpB;AACA,GAAI,CAACX,KAAK,CAAE,CACVW,SAAS,CAACX,KAAK,CAAG,mBAAmB,CACvC,CAAC,IAAM,IAAI,CAAC,cAAc,CAACY,IAAI,CAACZ,KAAK,CAAC,CAAE,CACtCW,SAAS,CAACX,KAAK,CAAG,kBAAkB,CACtC,CAEA;AACA,GAAI,CAACE,QAAQ,CAAE,CACbS,SAAS,CAACT,QAAQ,CAAG,sBAAsB,CAC7C,CAAC,IAAM,IAAIA,QAAQ,CAACW,MAAM,CAAG,CAAC,CAAE,CAC9BF,SAAS,CAACT,QAAQ,CAAG,wCAAwC,CAC/D,CAEAG,SAAS,CAACM,SAAS,CAAC,CACpB,MAAO,CAAAG,MAAM,CAACC,IAAI,CAACJ,SAAS,CAAC,CAACE,MAAM,GAAK,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAIR,YAAY,CAAC,CAAC,CAAE,CAClBH,eAAe,CAAC,IAAI,CAAC,CAErB,GAAI,CACF,KAAM,CAAAY,MAAM,CAAG,KAAM,CAAAX,KAAK,CAACR,KAAK,CAAEE,QAAQ,CAAC,CAE3C,GAAIiB,MAAM,CAACC,OAAO,CAAE,CAClBX,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,IAAM,CACLJ,SAAS,CAAC,CAAEgB,OAAO,CAAEF,MAAM,CAACG,OAAO,EAAI,iCAAkC,CAAC,CAAC,CAC7E,CACF,CAAE,MAAOC,KAAK,CAAE,CACdlB,SAAS,CAAC,CAAEgB,OAAO,CAAE,iDAAkD,CAAC,CAAC,CAC3E,CAAC,OAAS,CACRd,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CACF,CAAC,CAED,mBACEtB,KAAA,QAAKE,SAAS,CAAC,iBAAiB,CAAAM,QAAA,eAC9BR,KAAA,QAAKE,SAAS,CAAC,kBAAkB,CAAAM,QAAA,eAC/BV,IAAA,QAAKI,SAAS,CAAC,aAAa,CAAM,CAAC,cACnCJ,IAAA,QAAKI,SAAS,CAAC,aAAa,CAAM,CAAC,cACnCJ,IAAA,QAAKI,SAAS,CAAC,aAAa,CAAM,CAAC,cACnCJ,IAAA,QAAKI,SAAS,CAAC,aAAa,CAAM,CAAC,EAChC,CAAC,cAENF,KAAA,QAAKE,SAAS,CAAC,YAAY,CAAAM,QAAA,eACzBV,IAAA,QAAKI,SAAS,CAAC,kBAAkB,CAAM,CAAC,cAExCF,KAAA,QAAKE,SAAS,CAAC,cAAc,CAAAM,QAAA,eAC3BV,IAAA,QAAKI,SAAS,CAAC,aAAa,CAAAM,QAAA,cAC1BV,IAAA,CAACG,UAAU,GAAE,CAAC,CACX,CAAC,cACNH,IAAA,OAAAU,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBV,IAAA,MAAAU,QAAA,CAAG,6CAA2C,CAAG,CAAC,EAC/C,CAAC,cAENR,KAAA,SAAME,SAAS,CAAC,YAAY,CAACqC,QAAQ,CAAER,YAAa,CAAAvB,QAAA,EACjDW,MAAM,CAACiB,OAAO,eACbtC,IAAA,QAAKI,SAAS,CAAC,6BAA6B,CAAAM,QAAA,CACzCW,MAAM,CAACiB,OAAO,CACZ,CACN,cAEDpC,KAAA,QAAKE,SAAS,CAAC,YAAY,CAAAM,QAAA,eACzBV,IAAA,UAAO0C,OAAO,CAAC,OAAO,CAAAhC,QAAA,CAAC,OAAK,CAAO,CAAC,cACpCV,IAAA,UACE2C,IAAI,CAAC,OAAO,CACZC,EAAE,CAAC,OAAO,CACVC,KAAK,CAAE5B,KAAM,CACb6B,QAAQ,CAAGZ,CAAC,EAAKhB,QAAQ,CAACgB,CAAC,CAACa,MAAM,CAACF,KAAK,CAAE,CAC1CG,WAAW,CAAC,kBAAkB,CAC9B5C,SAAS,CAAEiB,MAAM,CAACJ,KAAK,CAAG,aAAa,CAAG,EAAG,CAC9C,CAAC,CACDI,MAAM,CAACJ,KAAK,eAAIjB,IAAA,QAAKI,SAAS,CAAC,eAAe,CAAAM,QAAA,CAAEW,MAAM,CAACJ,KAAK,CAAM,CAAC,EACjE,CAAC,cAENf,KAAA,QAAKE,SAAS,CAAC,YAAY,CAAAM,QAAA,eACzBV,IAAA,UAAO0C,OAAO,CAAC,UAAU,CAAAhC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1CV,IAAA,UACE2C,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbC,KAAK,CAAE1B,QAAS,CAChB2B,QAAQ,CAAGZ,CAAC,EAAKd,WAAW,CAACc,CAAC,CAACa,MAAM,CAACF,KAAK,CAAE,CAC7CG,WAAW,CAAC,qBAAqB,CACjC5C,SAAS,CAAEiB,MAAM,CAACF,QAAQ,CAAG,aAAa,CAAG,EAAG,CACjD,CAAC,CACDE,MAAM,CAACF,QAAQ,eAAInB,IAAA,QAAKI,SAAS,CAAC,eAAe,CAAAM,QAAA,CAAEW,MAAM,CAACF,QAAQ,CAAM,CAAC,EACvE,CAAC,cAENjB,KAAA,QAAKE,SAAS,CAAC,aAAa,CAAAM,QAAA,eAC1BR,KAAA,QAAKE,SAAS,CAAC,aAAa,CAAAM,QAAA,eAC1BV,IAAA,UAAO2C,IAAI,CAAC,UAAU,CAACC,EAAE,CAAC,UAAU,CAAE,CAAC,cACvC5C,IAAA,UAAO0C,OAAO,CAAC,UAAU,CAAAhC,QAAA,CAAC,aAAW,CAAO,CAAC,EAC1C,CAAC,cACNV,IAAA,WAAQ2C,IAAI,CAAC,QAAQ,CAACvC,SAAS,CAAC,iBAAiB,CAAAM,QAAA,CAAC,kBAAgB,CAAQ,CAAC,EACxE,CAAC,cAENV,IAAA,WACE2C,IAAI,CAAC,QAAQ,CACbvC,SAAS,CAAC,cAAc,CACxB6C,QAAQ,CAAE1B,YAAa,CAAAb,QAAA,CAEtBa,YAAY,CAAG,eAAe,CAAG,SAAS,CACrC,CAAC,cAETrB,KAAA,QAAKE,SAAS,CAAC,aAAa,CAAAM,QAAA,EAAC,yBACJ,cAAAV,IAAA,CAACJ,IAAI,EAACsD,EAAE,CAAC,SAAS,CAAAxC,QAAA,CAAC,SAAO,CAAM,CAAC,EACrD,CAAC,EACF,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAM,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}